<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creative Card Animations with Anime.js</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/animejs@4.1.3/lib/anime.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* bg-gray-900 */
            color: #f3f4f6; /* text-gray-100 */
            overflow: hidden; /* Prevent body scroll */
        }
        /* Custom scrollbar for the sidebar */
        .animation-buttons::-webkit-scrollbar {
            width: 8px;
        }
        .animation-buttons::-webkit-scrollbar-track {
            background: #1f2937; /* bg-gray-800 */
        }
        .animation-buttons::-webkit-scrollbar-thumb {
            background: #4b5563; /* bg-gray-600 */
            border-radius: 10px;
        }
        .animation-buttons::-webkit-scrollbar-thumb:hover {
            background: #6b7280; /* bg-gray-500 */
        }
        .card {
            /* This is a trick to maintain aspect ratio */
            aspect-ratio: 3 / 4;
        }
    </style>
</head>
<body class="flex h-screen">

    <!-- Sidebar for Animation Controls -->
    <aside class="w-64 bg-gray-900 border-r border-gray-700 flex flex-col">
        <div class="p-4 border-b border-gray-700">
            <h1 class="text-xl font-bold text-white">Card Animations</h1>
            <p class="text-sm text-gray-400">Click to preview</p>
        </div>
        <div id="button-container" class="animation-buttons flex-grow overflow-y-auto p-2 space-y-4">
            <!-- Buttons will be generated by JavaScript -->
        </div>
        <div class="p-4 border-t border-gray-700">
             <button id="reset-button" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200">Reset Cards</button>
        </div>
    </aside>

    <!-- Main Content with Card Grid -->
    <main class="flex-1 p-4 sm:p-6 md:p-8 lg:p-10 overflow-y-auto">
        <div id="card-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 sm:gap-6">
            <!-- Cards will be generated by JavaScript -->
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const { animate, stagger, utils, createTimeline } = anime;
            const cardGrid = document.getElementById('card-grid');
            const buttonContainer = document.getElementById('button-container');
            const resetButton = document.getElementById('reset-button');
            const totalCards = 18;

            // --- Hover Logic ---
            function addHoverListeners(card) {
                let hoverAnimation = null;
                card.addEventListener('mouseenter', () => {
                    if (hoverAnimation) hoverAnimation.pause();
                    hoverAnimation = animate(card, {
                        borderColor: ['#4b5563', '#a78bfa', '#4b5563'],
                        duration: 1000,
                        loop: true,
                            alternate: true,
                        ease: 'easeInOutQuad'
                    });
                });

                card.addEventListener('mouseleave', () => {
                    if (hoverAnimation) hoverAnimation.pause();
                    animate(card, {
                        borderColor: '#374151',
                        duration: 400
                    });
                });
            }

            // --- Generate Cards ---
            function createCards() {
                cardGrid.innerHTML = ''; // Clear existing cards
                for (let i = 0; i < totalCards; i++) {
                    const card = document.createElement('div');
                    card.className = 'card bg-gray-800 rounded-xl shadow-lg flex items-center justify-center font-bold text-2xl text-gray-400 border border-gray-700';
                    card.textContent = i + 1;
                    addHoverListeners(card);
                    cardGrid.appendChild(card);
                }
            }
            createCards();

            // --- Animation Definitions ---
            const animations = {
                " complex sequences": [
                    { name: 'Slide, Swing & Pulse', config: { timeline: 'slideAndSwing' } }
                ],
                " entrances": [
                    { name: 'Fade In', config: { opacity: [0, 1], duration: 800 } },
                    { name: 'Scale In', config: { scale: [0, 1], duration: 800 } },
                    { name: 'Slide In Bottom', config: { translateY: [100, 0], opacity: [0, 1], duration: 800 } },
                    { name: 'Slide In Top', config: { translateY: [-100, 0], opacity: [0, 1], duration: 800 } },
                    { name: 'Slide In Left', config: { translateX: [-100, 0], opacity: [0, 1], duration: 800 } },
                    { name: 'Flip In X', config: { rotateX: [-90, 0], opacity: [0, 1], duration: 1000 } },
                    { name: 'Flip In Y', config: { rotateY: [90, 0], opacity: [0, 1], duration: 1000 } },
                    { name: 'Spin In', config: { rotate: [180, 0], scale: [0, 1], opacity: [0, 1], duration: 1000 } },
                    { name: 'Drop In', config: { translateY: ['-100vh', 0], duration: 1000, ease: 'easeOutBounce' } },
                    { name: 'Unfold In', config: { scaleX: [0, 1], opacity: [0, 1], duration: 1000 } },
                ],
                " exits": [
                    { name: 'Fade Out', config: { opacity: [1, 0], duration: 800 } },
                    { name: 'Scale Out', config: { scale: [1, 0], duration: 800 } },
                    { name: 'Slide Out Top', config: { translateY: [0, -100], opacity: [1, 0], duration: 800 } },
                    { name: 'Slide Out Right', config: { translateX: [0, 100], opacity: [1, 0], duration: 800 } },
                    { name: 'Flip Out X', config: { rotateX: [0, 90], opacity: [1, 0], duration: 1000 } },
                    { name: 'Flip Out Y', config: { rotateY: [0, -90], opacity: [1, 0], duration: 1000 } },
                    { name: 'Spin Out', config: { rotate: [0, -180], scale: [1, 0], opacity: [1, 0], duration: 1000 } },
                    { name: 'Fly Out', config: { translateY: [0, '100vh'], duration: 1000, ease: 'easeInExpo' } },
                    { name: 'Fold Out', config: { scaleY: [1, 0], opacity: [1, 0], duration: 1000 } },
                    { name: 'Explode', config: { 
                        translateX: () => utils.random(-200, 200),
                        translateY: () => utils.random(-200, 200),
                        scale: 0,
                        rotate: () => utils.random(-360, 360),
                        opacity: 0,
                        duration: 1200
                    }},
                ],
                " emphasis": [
                    { name: 'Pulse', config: { scale: [1, 1.1, 1], duration: 600, ease: 'easeInOutQuad' } },
                    { name: 'Shake', config: { translateX: [0, -10, 10, -10, 10, 0], duration: 500, ease: 'easeInOutQuad' } },
                    { name: 'Wobble', config: { rotate: [0, -5, 5, -5, 5, 0], duration: 700, ease: 'easeInOutSine' } },
                    { name: 'Jello', config: { skewX: [0, -15, 10, -10, 5, 0], duration: 900, ease: 'easeOutElastic(1, .8)' } },
                    { name: 'Bounce', config: { translateY: [0, -30, 0, -15, 0], duration: 1000, ease: 'easeOutBounce' } },
                    { name: 'Tada!', config: { scale: [1, 0.9, 1.1, 1.1, 1.1, 1], rotate: [0, -3, 3, -3, 3, 0], duration: 1000 } },
                    { name: 'Swing', config: { rotate: [0, 15, -10, 5, -5, 0], transformOrigin: ['top center', 'top center'], duration: 1000 } },
                    { name: 'Flash', config: { opacity: [1, 0, 1, 0, 1], duration: 1000 } },
                    { name: 'Rubber Band', config: { scaleX: [1, 1.25, 0.75, 1.15, 1], scaleY: [1, 0.75, 1.25, 0.85, 1], duration: 900 } },
                ],
                " creative effects": [
                    { name: 'Matrix Rain', config: { translateY: ['-100%', '100%'], opacity: [1, 0], duration: 1500, ease: 'linear' } },
                    { name: 'Domino Fall', config: { rotate: [0, 90], transformOrigin: ['bottom left', 'bottom left'], opacity: [1, 0.5], duration: 1000 } },
                    { name: 'Card Deck', config: { 
                        translateX: (el, i) => i * 10, 
                        translateY: (el, i) => i * -10,
                        rotate: (el, i) => i * 2,
                        duration: 800,
                    }},
                    { name: 'Wave', config: { translateY: [0, -20, 0], duration: 1000, ease: 'easeInOutSine', loop: true } },
                    { name: 'Shuffle Left', config: { translateX: ['-100%', '100%'], duration: 1000 } },
                    { name: 'Glitch', config: { 
                        translateX: [0, () => utils.random(-5, 5), 0, () => utils.random(-5, 5), 0],
                        translateY: [0, () => utils.random(-5, 5), 0, () => utils.random(-5, 5), 0],
                        scaleX: [1, 1.05, 1, 0.95, 1],
                        duration: 400,
                    }},
                    { name: 'Converge', config: { 
                        translateX: (el, i) => (i % 6 - 2.5) * -80,
                        translateY: (el, i) => (Math.floor(i / 6) - 1) * -80,
                        scale: [1, 0.5],
                        opacity: [1, 0],
                        reversed: true,
                        duration: 1000,
                    }},
                    { name: 'Staggered Fade', config: { opacity: [0, 1], duration: 500 } },
                    { name: 'Staggered Pop', config: { scale: [0.5, 1], opacity: [0, 1], duration: 500 } },
                ],
                 " style changes": [
                    { name: 'Color Shift', config: { backgroundColor: ['#374151', '#ef4444', '#3b82f6', '#10b981', '#374151'], duration: 2000, ease: 'linear' } },
                    { name: 'Border Pulse', config: { borderColor: ['#4b5563', '#a78bfa', '#4b5563'], duration: 1000 } },
                    { name: 'To Circle', config: { borderRadius: ['12px', '50%'], duration: 800 } },
                    { name: 'To Square', config: { borderRadius: ['50%', '12px'], duration: 800 } },
                    { name: 'Shadow Grow', config: { boxShadow: ['0 10px 15px -3px rgba(0,0,0,0.1)', '0 25px 50px -12px rgba(0,0,0,0.5)', '0 10px 15px -3px rgba(0,0,0,0.1)'], duration: 1200 } },
                    { name: 'Skew Morph', config: { skew: [0, 20, 0], duration: 1000 } },
                ]
            };

            // --- Generate Buttons ---
            function createButtons() {
                for (const category in animations) {
                    const categoryTitle = document.createElement('h3');
                    categoryTitle.className = 'text-sm font-semibold text-indigo-400 uppercase tracking-wider px-2 pt-2';
                    categoryTitle.textContent = category;
                    buttonContainer.appendChild(categoryTitle);

                    const buttonGroup = document.createElement('div');
                    buttonGroup.className = 'space-y-1';

                    animations[category].forEach(anim => {
                        const button = document.createElement('button');
                        button.textContent = anim.name;
                        button.className = 'w-full text-left text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150';
                        button.onclick = () => playAnimation(anim.config);
                        buttonGroup.appendChild(button);
                    });
                    buttonContainer.appendChild(buttonGroup);
                }
            }
            createButtons();

            // --- Animation Player ---
            let currentAnimation = null;
            function playAnimation(config) {
                if (currentAnimation) {
                    currentAnimation.pause();
                }

                // If grid is empty and this is not the special animation, recreate cards.
                if (cardGrid.children.length === 0 && config.timeline !== 'slideAndSwing') {
                    createCards();
                }

                if (config.timeline === 'slideAndSwing') {
                    cardGrid.innerHTML = ''; // Clear cards

                    // Create all card elements first, but keep them hidden
                    const cardElements = [];
                    for (let i = 0; i < totalCards; i++) {
                        const card = document.createElement('div');
                        card.className = 'card bg-gray-800 rounded-xl shadow-lg flex items-center justify-center font-bold text-2xl text-gray-400 border border-gray-700';
                        card.textContent = i + 1;
                        card.style.opacity = 0; // Initially hidden
                        addHoverListeners(card);
                        cardGrid.appendChild(card);
                        cardElements.push(card);
                    }

                    // Now, create a single timeline to animate them
                    const tl = createTimeline();

                    cardElements.forEach((card, i) => {
                        const slideStartTime = i * 500;
                        const swingStartTime = slideStartTime + 1000;

                        tl.add(card, {
                            opacity: [0, 1],
                            translateX: ['100vw', 0],
                            duration: 1000,
                            ease: 'easeOutExpo'
                        }, slideStartTime);

                        tl.add(card, {
                            rotate: [0, 15, -10, 5, -5, 0],
                            transformOrigin: ['top center', 'top center'],
                            duration: 1000,
                            ease: 'easeInOutSine'
                        }, swingStartTime);
                    });

                    currentAnimation = tl;
                    tl.play();
                } else {
                     // Reset properties before starting a new animation
                    utils.set('.card', {
                        opacity: 1,
                        scale: 1,
                        translateX: 0,
                        translateY: 0,
                        rotate: 0,
                        rotateX: 0,
                        rotateY: 0,
                        skew: 0,
                        borderRadius: '12px',
                        backgroundColor: '#1f2937', // bg-gray-800
                        borderColor: '#374151', // border-gray-700
                        boxShadow: '0 10px 15px -3px rgba(0,0,0,0.1)',
                        transformOrigin: '50% 50%'
                    });
                    const animationConfig = {
                        delay: stagger(50, { grid: [6, 3], from: 'center' }),
                        ...config
                    };
                    currentAnimation = animate('.card', animationConfig);
                }
            }

            // --- Reset Button ---
            resetButton.addEventListener('click', () => {
                if (currentAnimation) {
                    currentAnimation.pause();
                }
                // Re-create cards to fully reset their state and DOM position
                createCards();
                // A small animation to show the reset is complete
                animate('.card', {
                    scale: [0.9, 1],
                    opacity: [0, 1],
                    duration: 500,
                    delay: stagger(20)
                });
            });
        });
    </script>

</body>
</html>
